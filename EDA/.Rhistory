data1 <- read.csv(url("../data/dds_datasets/dds_ch2_nyt/nyt1.csv"))
data1 <- read.csv("../data/dds_datasets/dds_ch2_nyt/nyt1.csv")
View(data1)
head(data1)
View(data1)
summary(data1)
View(data1)
data1$agecat <- cut(data1$Age, c(-Inf, 0, 18, 24, 34, 44, 54, 64, Inf))
data1 <- read.csv("../data/dds_datasets/dds_ch2_nyt/nyt1.csv")
head(data1)
data1$agecat <- cut(data1$Age, c(-Inf, 0, 18, 24, 34, 44, 54, 64, Inf))
summary(data1)
# 读取数据并查看相关信息
data1 <- read.csv("../data/dds_datasets/dds_ch2_nyt/nyt1.csv")
# 读取数据并查看相关信息
data1 <- read.csv("../data/dds_datasets/dds_ch2_nyt/nyt1.csv")
source('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R', echo=TRUE)
source('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R', echo=TRUE)
View(data1)
View(data1)
install.packages('doBy')
# 分组
install.packages("doBy")
library("doBy")
siterange <- function(x){
c(length(X), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data = data1, FUN=siterange)
summaryBy(Age~agecat, data = data1, FUN=siterange())
siterange <- function(x){
c(length(X), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data = data1, FUN=siterange)
setwd("F:/MyProject/doing_data_science/探索性数据分析")
siterange <- function(x){
c(length(X), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data = data1, FUN=siterange)
summaryBy(Age~agecat, data = data1, FUN=siterange)
debugSource('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R', echo=TRUE)
install.packages("doBy")
summaryBy(Age~agecat, data = data1, FUN=siterange)
source('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R', echo=TRUE)
library(doBy)
siterange <- function(x){
c(length(X), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data = data1, FUN=siterange)
summary(data1)
View(data1)
View(siterange)
View(siterange)
function(x){
c(length(X), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data=data1, FUN=siterange())
summaryBy(Age~agecat, data=data1, FUN=siterange
)
summaryBy(Age+Gender~agecat, data=data1, FUN=siterange)
library(doBy)
siterange <- function(x){
c(length(x), min(x), mean(x), max(x))
}
summaryBy(Age~agecat, data = data1, FUN=siterange)
# 登录的用户才有性别和年龄
summaryBy(Gender+Signed_In+Impressions+Clicks~agecat, data = data1)
install.packages("ggplot2")
library(ggplot2)
ggplot(
data1, aes(x=Impressions, fill=agecat)
)+geom_histogram(binwidth = 1)
View(data1)
ggplot(
data1, aes(x=Impressions, fill=agecat)
)+geom_histogram(binwidth = 2)
ggplot(
data1, aes(x=Impressions, fill=agecat)
)+geom_histogram(binwidth = 1)
ggplot(
data1, aes(x=agecat, y=Impressions, fill=agecat)
)+geom_boxplot()
ggplot(
data1, aes(x=agecat, y=Impressions)
)+geom_boxplot()
ggplot(
data1, aes(x=agecat, y=Impressions, fill=agecat)
)+geom_boxplot()
data1$hasimps <- cut(data1$Impressions, c(-Inf, 0, Inf))
summaryBy(Clicks~hasimps, data = data1, FUN=siterange)
View(data1)
summary(data1)
ggplot(
subset(data1, Impressions>0), aes(x=Clicks/Impressions, colour=agecat)
)+geom_density()
ggplot(
subset(data1, Clicks>0), aes(x=Clicks/Impressions, colour=agecat)
)+geom_density()
ggplot(
subset(data1, Clicks>0), aes(x=agecat, y=Clicks, fill=agecat)
)+geom_boxplot()
ggplot(
subset(data1, Clicks>0), aes(x=Clicks, colour=agecat)
)+geom_density()
data1$scode[data1$Impressions==0] <- "NoImps"
data1$scode[data1$Impressions >0] <- "Imps"
data1$scode[data1$Clicks >0] <- "Clicks"
data1$scode <- factor(data1$scode)
View(data1)
head(data1)
clen <- function(x){c(length(x))}
etable <- summaryBy(
Impressions~scode+Gender+agecat, data = dat1, FFUN = clen
)
etable <- summaryBy(
Impressions~scode+Gender+agecat, data = data1, FFUN = clen
)
View(etable)
View(clen)
clen <- function(x){c(length(x), mean(x))}
etable <- summaryBy(
Impressions~scode+Gender+agecat, data = data1, FFUN = clen
)
View(etable)
etable <- summaryBy(
Impressions~scode+Gender+agecat, data = data1, FUN = clen
)
View(etable)
source('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R')
install.packages("doBy")
source('F:/MyProject/doing_data_science/探索性数据分析/exp_nyt1.R')
install.packages("ggplot2")
view(data1)
head(data1)
bk <- read.xls("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls")
head(bk)
summary(bk)
require(gdata)
install.packages(gdata)
library(gdata)
install.packages("gdata")
library(gdata)
bk <- read.xls("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls")
head(bk)
summary(bk)
bk <- read.xls("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
pattern = "BOROUGH")
install.packages("RODBC", dependencies = TRUE)
library(RODBC)
bk <- read.xls("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
pattern = "BOROUGH")
con <- odbcConnectExcel2007("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls")
sqlTables(con)
install.packages(openxlsx)
install.packages("openxlsx")
install.packages("openxlsx")
install.packages("openxlsx")
install.packages("openxlsx")
library(openxlsx)
bk <- read.xlsx("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls")
library(gdata)
bk <- read.xls("../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls")
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe"
)
View(siterange)
head(bk)
summary(bk)
View(bk)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
pattern = "BOROUGH"
)
View(bk)
head(bk)
summary(bk)
View(bk)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
pattern = "NEIGHBORHOOD"
)
library(gdata)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
pattern = "NEIGHBORHOOD"
)
View(bk)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
pattern = "BOROUGH"
)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
)
View(bk)
bk <- read.xls(
"../data/dds_datasets/dds_ch2_rollingsales/rollingsales_brooklyn.xls",
perl = "D:/Strawberry/perl/bin/perl.exe",
pattern = "BOROUGH"
)
View(bk)
head(bk)
summary(bk)
View(bk)
bk$SALE.PRICE.N <- as.numeric(
gsub("[^[:digit:]]", "", bk$SALE.PRICE)
)
summary(bk)
count(is.na(bk$SALE.PRICE.N))
table(is.na(bk$SALE.PRICE.N))
names(bk) <- tolower(names(bk))
summary(bk)
print(is.factor(bk$year.built))
bk$year.built <- as.numeric(as.character(bk$year.built))
summary(bk)
hist(sale.price.n)
names(bk) <- tolower(names(bk))
attach(bk)
hist(sale.price.n)
summary(sale.price.n)
table(sale.price.n)
count(sale.price.n)
count.fields(sale.price.n)
hist(sale.price.n[sale.price.n>0])
hist(gross.sqft[sale.price.n==0])
# 使用正则表达式清理和格式化数据
bk$gross.sqft <- as.numeric(
gsub("[^[:digit:]]"), "", bk$gross.square.feet
)
bk$land.sqft <- as.numeric(
gsub("[^[:digit:]]"), "", bk$land.square.feet
)
bk$sale.date <- as.Date(bk$sale.date)
bk$year.built <- as.numeric(as.character(bk$year.built))
bk$gross.sqft <- as.numeric(
gsub("[^[:digit:]]"), "", bk$gross.square.feet
)
bk$land.sqft <- as.numeric(
gsub("[^[:digit:]]"), "", bk$land.square.feet
)
bk$gross.sqft <- as.numeric(
gsub("[^[:digit:]]", "", bk$gross.square.feet)
)
bk$land.sqft <- as.numeric(
gsub("[^[:digit:]]", "", bk$land.square.feet)
)
bk$sale.date <- as.Date(bk$sale.date)
bk$year.built <- as.numeric(as.character(bk$year.built))
hist(gross.sqft[sale.price.n==0])
View(bk)
attach(bk)
detach()
attach(bk)
detach()
hist(bk$gross.sqft[sale.price.n==0])
